(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue-drawer-layout"]=t():e["vue-drawer-layout"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({bce1:function(e,t,n){"use strict";var i=n("cd58"),o=n.n(i);o.a},cd58:function(e,t,n){},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&((i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drawer-layout"},[n("div",{staticClass:"drawer-wrap",class:e.animateStyle,style:e.drawerStyle},[e._t("drawer")],2),n("div",{staticClass:"content-wrap",class:e.contentDrawable?e.animateStyle:{},style:e.contentDrawable?e.contentStyle:{}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.backdrop&&e.pos,expression:"backdrop && pos"}],staticClass:"drawer-mask",style:{opacity:e.backdropOpacity},on:{click:e.handleMaskClick}}),e._t("content")],2)])},s=[];const r=(()=>{let e=!1;try{const n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,n)}catch(t){throw t}return e})(),a=500,d="ontouchstart"in window,l=d?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"};var c={name:"vue-drawer-layout",props:{drawerWidth:{type:Number},drawableDistance:{type:Number},zIndex:{type:Number,default:818},contentDrawable:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},backdropOpacityRange:{type:Array,default:function(){return[0,.4]},validator:function(e){let[t,n]=e;return t<n&&t>=0&&n<=1}},enable:{type:Boolean,default:!0},animatable:{type:Boolean,default:!0},reverse:{type:Boolean,default:!1}},data(){return{width:this.drawerWidth,distance:this.drawableDistance,pos:0,visible:!1,moving:!1,willChange:!1}},methods:{toggle(e){void 0===e&&(e=!this.visible),this.visible=e,this.pos=e?this.width:0,this.moving=!0},handleMaskClick(){this.moving||this.$emit("mask-click")}},watch:{moving(){this.animatable||(this.moving=!1)},willChange(){this.animatable||(this.willChange=!1)}},computed:{animateStyle(){const{moving:e,willChange:t}=this;return{moving:e,"will-change":t}},drawerStyle(){const{zIndex:e,width:t,moveRate:n,pos:i,reverse:o}=this;return{zIndex:e,width:`${t}px`,[o?"right":"left"]:`-${Math.ceil(t*n)}px`,transform:`translate3d(${o?"-":""}${Math.ceil(i*n)}px,0,0)`}},contentStyle(){const{pos:e,reverse:t}=this;return{transform:`translate3d(${t?"-":""}${e}px,0,0)`}},backdropOpacity(){const{backdropOpacityRange:e,pos:t,width:n}=this,[i,o]=e;return i+o*(t/n)||0},moveRate(){const{width:e,distance:t}=this;return t/e}},mounted(){const e=this.$el,t=parseInt(window.getComputedStyle(this.$el.parentNode).width);let n=.8*t;this.width=this.width||n,this.distance=this.distance||n;const{width:i,reverse:o}=this;let s,c,u,h,p,f,v,m,w,b;const y=function(e){this.enable&&(this.willChange=!0,b=void 0,f=h=e.clientX||e.changedTouches[0].clientX,p=e.clientY||e.changedTouches[0].clientY,c=+new Date,w=this.pos,document.addEventListener(l.move,g,!(!d||!r)&&{passive:!0}),document.addEventListener(l.up,_,!(!d||!r)&&{passive:!0}),this.$emit("slide-start"))}.bind(this),g=function(e){s=c,c=+new Date,m=f,f=e.clientX||e.changedTouches[0].clientX,v=e.clientY||e.changedTouches[0].clientY,u=[1,-1][+o]*(f-m)/(c-s);let t=w+[1,-1][+o]*(f-h);t=Math.min(i,t),t=Math.max(0,t),void 0===b&&(b=Math.abs(f-h)/Math.abs(v-p)<Math.sqrt(3)),b||(d&&r||e.preventDefault(),this.pos=t,this.$emit("slide-move",t))}.bind(this),_=function(){if(void 0!==b){if(!b){let e=this.pos;this.visible=u>0?(i-e)/u<a||e>3*i/5:!((0-e)/u<a||e<3*i/5),this.pos>0&&this.pos<i&&(this.moving=!0)}this.pos=this.visible?i:0}this.moving||(this.willChange=!1,this.$emit("slide-end",this.visible)),b=void 0,document.removeEventListener(l.move,g,!(!d||!r)&&{passive:!0}),document.removeEventListener(l.up,_,!(!d||!r)&&{passive:!0})}.bind(this);"transitionend webkitTransitionEnd msTransitionEnd otransitionend oTransitionEnd".split(" ").forEach(e=>{this.$el.addEventListener(e,()=>{this.moving&&(this.moving=!1,this.willChange=!1,this.pos=this.visible?i:0,this.$emit("slide-end",this.visible))},!1)}),e.addEventListener(l.down,y,!(!d||!r)&&{passive:!0})}},u=c;n("bce1");function h(e,t,n,i,o,s,r,a){var d,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(d=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=d):o&&(d=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(l.functional){l._injectStyles=d;var c=l.render;l.render=function(e,t){return d.call(t),c(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:l}}var p=h(u,o,s,!1,null,"48b85408",null);p.options.__file="DrawerLayout.vue";var f=p.exports;function v(e){e.component(f.name,f),window.DrawerLayout=f}const m={install:v};var w=m;"undefined"!==typeof window&&window.Vue&&window.Vue.use(m),n.d(t,"DrawerLayout",function(){return f});t["default"]=w}})});
//# sourceMappingURL=vue-drawer-layout.umd.min.js.map